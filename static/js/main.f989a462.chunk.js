(this.webpackJsonpcrudapp=this.webpackJsonpcrudapp||[]).push([[0],{49:function(t,e,n){"use strict";n.r(e);var s=n(3),r=n.n(s),c=n(18),a=n.n(c),o=n(19),i=n(6),d=n(2),l=n.n(d),u=n(7),j=n(4),b=n(20),h=n(21),p=n(23),x=n(22),O=n(5),v=n.n(O),f=n(0),m="https://jsonplaceholder.typicode.com/posts",g=function(t){Object(p.a)(n,t);var e=Object(x.a)(n);function n(t){var s;return Object(b.a)(this,n),(s=e.call(this,t)).createPost=Object(j.a)(l.a.mark((function t(){var e,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(s.state),t.prev=1,t.next=4,v.a.post(m,{userId:s.state.userId,title:s.state.title,body:s.state.body});case 4:e=t.sent,n=e.data,(r=Object(u.a)(s.state.posts)).push(n),s.setState({posts:r,userId:"",title:"",body:""}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log("Error fetching data from server",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])}))),s.getPosts=Object(j.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get(m);case 3:e=t.sent,n=e.data,s.setState({posts:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Error creating data from server",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),s.updatePost=Object(j.a)(l.a.mark((function t(){var e,n,r,c,a,o,i,d,j;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=s.state,n=e.id,r=e.userId,c=e.title,a=e.body,t.next=4,v.a.put("".concat(m,"/").concat(n),{userId:r,title:c,body:a});case 4:o=t.sent,i=o.data,d=Object(u.a)(s.state.posts),j=d.findIndex((function(t){return t.id===n})),d[j]=i,s.setState({posts:d,id:"",userId:"",title:"",body:""}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("Error updating data from server",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),s.deletePost=function(){var t=Object(j.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,v.a.delete("".concat(m,"/").concat(e));case 4:console.log("".concat(e," Deleted  ")),n=(n=Object(u.a)(s.state.posts)).filter((function(t){return t.id!==e})),s.setState({posts:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("Error deleting data from server",t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),s.handleChange=function(t){var e=t.target,n=e.name,r=e.value;s.setState(Object(i.a)({},n,r))},s.handleSubmit=function(t){t.preventDefault(),s.state.id?s.updatePost():s.createPost()},s.selectPostToUpdate=function(t){s.setState(Object(o.a)({},t))},s.state={posts:[],id:"",userId:"",body:"",title:""},s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getPosts()}},{key:"render",value:function(){var t=this;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h3",{children:"Post App"}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"User Id : "}),Object(f.jsx)("input",{name:"userId",type:"text",value:this.state.userId,onChange:this.handleChange,required:!0})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Title :  "}),Object(f.jsx)("input",{name:"title",type:"text",value:this.state.title,onChange:this.handleChange,required:!0})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Body : "}),Object(f.jsx)("input",{name:"body",type:"text",value:this.state.body,onChange:this.handleChange,required:!0})]}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",children:"Submit"})}),Object(f.jsx)("br",{})]}),Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"PostId"}),Object(f.jsx)("th",{children:"UserId"}),Object(f.jsx)("th",{children:"Title"}),Object(f.jsx)("th",{children:"Body"}),Object(f.jsx)("th",{children:"Actions"})]})}),Object(f.jsx)("tbody",{children:this.state.posts.map((function(e,n){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.id}),Object(f.jsx)("td",{children:e.userId}),Object(f.jsx)("td",{children:e.title}),Object(f.jsx)("td",{children:e.body}),Object(f.jsxs)("td",{children:[Object(f.jsx)("button",{onClick:function(){return t.selectPostToUpdate(e)},children:"Update"}),Object(f.jsx)("button",{onClick:function(){return t.deletePost(e.id)},children:"Delete"})]})]},n)}))})]})]})}}]),n}(r.a.Component);a.a.render(Object(f.jsx)(g,{}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.f989a462.chunk.js.map